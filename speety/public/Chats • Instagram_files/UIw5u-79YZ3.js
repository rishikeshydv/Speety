;/*FB_PKG_DELIM*/

__d("useIGDTriggerEditAction.react",["MAWEditMessageContext.react","MWPReplyContext.react","MessengerWebUXLogger","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useContext,j=b.c;function a(a,b,e){var f=j(10),g=c("MessengerWebUXLogger").useInteractionLogger(),h=i(d("MAWEditMessageContext.react").Context),k=h.setEditMessageData;h=i(d("MWPReplyContext.react").MWPReplyContext);var l=h.clearReply,m=h.reply;f[0]!==m||f[1]!==l||f[2]!==a.threadKey||f[3]!==a.messageId||f[4]!==a.timestampMs||f[5]!==k||f[6]!==b||f[7]!==g||f[8]!==e?(h=function(){m!=null&&l(a.threadKey,!0),k({messageId:a.messageId,threadKey:a.threadKey,threadType:b,timestampMs:a.timestampMs}),g==null?void 0:g({eventName:"edit_message_tap"}),e==null?void 0:e()},f[0]=m,f[1]=l,f[2]=a.threadKey,f[3]=a.messageId,f[4]=a.timestampMs,f[5]=k,f[6]=b,f[7]=g,f[8]=e,f[9]=h):h=f[9];return h}g["default"]=a}),98);
__d("useIGDEditMessageMenuItem.react",["fbt","I64","IGDInstamadilloUtils","IGDMessageContextMenuItem.react","IGDSEditPanoOutline24Icon.react","MWPActor.react","gkx","qex","react","useIGDTriggerEditAction.react","useMWPCanUserEditMessage"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=(i||(i=d("react"))).c,l=i;function a(a,b,e){var f=k(4),g=c("qex")._("887")===!0&&!d("IGDInstamadilloUtils").isInstamadilloMessage(a)||c("gkx")("3688"),i=d("MWPActor.react").useActor(),m=a.senderId;m=(j||(j=d("I64"))).equal(m,i);var n=c("useIGDTriggerEditAction.react")(a,e.threadType,b);i=c("useMWPCanUserEditMessage")(a,e);if(!g||!m||!i)return null;f[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=h._("__JHASH__ASoNWZMk4ee__JHASH__"),f[0]=b):b=f[0];a=b;f[1]===Symbol["for"]("react.memo_cache_sentinel")?(e=l.jsx(c("IGDSEditPanoOutline24Icon.react"),{alt:a,size:18}),f[1]=e):e=f[1];f[2]!==n?(g=l.jsx(c("IGDMessageContextMenuItem.react"),{icon:e,label:a,onClick:function(){n()},testid:void 0}),f[2]=n,f[3]=g):g=f[3];return g}g["default"]=a}),226);
__d("useIGDMessageCopyMenuItem.react",["fbt","Clipboard","I64","IGDMessageContextMenuItem.react","IGDSCopyPanoOutline24Icon.react","IGDThreadListNewMessageLoggingDataContext","Int64Hooks","LSIntEnum","LSMessageReplySourceTypeV2","MWPActor.react","MessengerWebUXLogger","getInstamadilloLoggingExtraData","promiseDone","react","requireDeferred","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=(l||(l=d("react"))).c,n=l,o=c("requireDeferred")("MWLogMessageAction").__setRef("useIGDMessageCopyMenuItem.react");function a(a,b,e){var f=m(16),g=(i||(i=c("useReStore")))(),l=d("MWPActor.react").useActor(),p=c("MessengerWebUXLogger").useInteractionLogger(),q=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),r=a.displayedContentTypes,s=a.replySourceTypeV2!=null&&(j||(j=d("LSIntEnum"))).toNumber(a.replySourceTypeV2)===c("LSMessageReplySourceTypeV2").FORWARD;r=(k||(k=d("I64"))).equal(r,(j||(j=d("LSIntEnum"))).ofNumber(1))||(k||(k=d("I64"))).equal(r,(j||(j=d("LSIntEnum"))).ofNumber(1033));r=r||s&&!!a.text;var t;f[0]!==p||f[1]!==e||f[2]!==q||f[3]!==a.text||f[4]!==a.messageId||f[5]!==a.threadKey||f[6]!==a.senderId||f[7]!==b||f[8]!==g||f[9]!==l?(s=function(){var f;p==null?void 0:p({eventName:"message_copy",extraData:c("getInstamadilloLoggingExtraData")(e),flowInstanceId:q});d("Clipboard").copy((f=a.text)!=null?f:"");b();o.onReady(function(b){return c("promiseDone")(b.log(g,a.messageId,a.threadKey,"message_dot_menu","copy",void 0,void 0,void 0,a.senderId,void 0,l))})},t=[l,g,q,p,a.messageId,a.senderId,a.text,a.threadKey,b,e],f[0]=p,f[1]=e,f[2]=q,f[3]=a.text,f[4]=a.messageId,f[5]=a.threadKey,f[6]=a.senderId,f[7]=b,f[8]=g,f[9]=l,f[10]=s,f[11]=t):(s=f[10],t=f[11]);s=d("Int64Hooks").useCallbackInt64(s,t);if(!r)return null;f[12]===Symbol["for"]("react.memo_cache_sentinel")?(t=h._("__JHASH__3LRiqsZl3CP__JHASH__"),f[12]=t):t=f[12];r=t;f[13]===Symbol["for"]("react.memo_cache_sentinel")?(t=n.jsx(c("IGDSCopyPanoOutline24Icon.react"),{alt:r,size:18}),f[13]=t):t=f[13];f[14]!==s?(t=n.jsx(c("IGDMessageContextMenuItem.react"),{icon:t,label:r,onClick:s}),f[14]=s,f[15]=t):t=f[15];return t}g["default"]=a}),226);
__d("forwardAttachmentFromInstamadilloToOpen",["I64","LSIntEnum","MAWForwardMessageFromSecureThread.react","OfflineThreadingId","asyncToGeneratorRuntime","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("requireDeferred")("LSDatabaseSingletonLazyWrapper").__setRef("forwardAttachmentFromInstamadilloToOpen");function a(a,b,c,d,e,f){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e,f,g){var k=(yield j.load()),l=(yield k());k=d("OfflineThreadingId").createOfflineThreadingID();var m={attachment_fbid:k,attachment_index:(h||(h=d("I64"))).zero,attachment_type:a.attachmentType,filename:a.filename,has_media:!0,has_xma:!1,offline_attachment_id:k,playable_duration_ms:a.playableDurationMs,playable_url:URL.createObjectURL(b),playable_url_mime_type:b.type,preview_height:a.previewHeight,preview_url:URL.createObjectURL(b),preview_width:a.previewWidth};yield l.runInTransaction(function(a){return d("MAWForwardMessageFromSecureThread.react").uploadAndSendMediaToOpenThread(l,m,b,(h||(h=d("I64"))).of_string(c),(i||(i=d("LSIntEnum"))).ofNumber(e),!0,f,a,g)},"readwrite")});return k.apply(this,arguments)}g["default"]=a}),98);
__d("forwardAttachmentToInstamadillo",["CometTaskFramework","I64","LSFactory","LSIntEnum","LSLocalApplyOptimisticMessageWithAttachmentsV2StoredProcedure","LSPendingTasksPluginType","LSShape","LSVec","OfflineThreadingId","asyncToGeneratorRuntime","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("requireDeferred")("LSDatabaseSingletonLazyWrapper").__setRef("forwardAttachmentToInstamadillo");function a(a,b,c,d,e,f,g){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g,k,l,m){var n=(yield j.load());n=(yield n());var o=d("OfflineThreadingId").createOfflineThreadingID(),p={attachment_fbid:o,attachment_index:(h||(h=d("I64"))).zero,attachment_type:a.attachmentType,filename:a.filename,has_media:!0,has_xma:!1,offline_attachment_id:o,playable_duration_ms:a.playableDurationMs,playable_url:URL.createObjectURL(e),playable_url_mime_type:e.type,preview_height:a.previewHeight,preview_url:URL.createObjectURL(e),preview_width:a.previewWidth};o=(yield n.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield c("LSLocalApplyOptimisticMessageWithAttachmentsV2StoredProcedure")(c("LSFactory")(a),{extraSendMessageParams:d("LSShape").ofRecord({attachments:c("LSVec").ofArray([d("LSShape").ofRecord(p)]),is_forwarded:!0,mark_read:!1,plugin_type:(i||(i=d("LSIntEnum"))).ofNumber(c("LSPendingTasksPluginType").IGD_INSTAMADILLO),source:l}),senderId:k,threadKey:(h||(h=d("I64"))).of_string(f),threadType:i.ofNumber(g)}));b=b[0];yield a.messages_optimistic_context.add({markThreadRead:!1,offlineThreadingId:b,openEb:m,taskId:h.of_string(b),threadAttributionSource:l,threadKey:h.of_string(f)});return b});return function(b){return a.apply(this,arguments)}}(),"readwrite"));yield c("CometTaskFramework")(h.to_string(k)).issueTask("igd_send_media_message",{offlineThreadingId:o});return o});return k.apply(this,arguments)}g["default"]=a}),98);
__d("forwardAttachmentToOpen",["I64","LSFactory","LSIntEnum","LSOptimisticSendAttachmentForwardStoredProcedure","asyncToGeneratorRuntime","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("requireDeferred")("LSDatabaseSingletonLazyWrapper").__setRef("forwardAttachmentToOpen");function a(a,b,c,d,e){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g){var k=(yield j.load());k=(yield k());k=(yield k.runInTransaction(function(j){return c("LSOptimisticSendAttachmentForwardStoredProcedure")(c("LSFactory")(j),{forwardedAttachmentFbid:(h||(h=d("I64"))).of_string(a.attachmentFbid),senderId:f,source:g,threadKey:h.of_string(b),threadType:(i||(i=d("LSIntEnum"))).ofNumber(e)})},"readwrite"));k=k[0];return k});return k.apply(this,arguments)}g["default"]=a}),98);
__d("forwardAttachment",["I64","MAWDbMedia","MAWFowardMessageFromOpenThread","asyncToGeneratorRuntime","forwardAttachmentFromInstamadilloToOpen","forwardAttachmentToInstamadillo","forwardAttachmentToOpen","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("requireDeferred")("LSDatabaseSingletonLazyWrapper").__setRef("forwardAttachment");function a(a,b,c,d,e,f){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g,j){var k=(yield i.load());k=(yield k());var l=(yield k.tables.e2ee_media.get(d("MAWDbMedia").convertToMediaId64((h||(h=d("I64"))).of_float(Number.parseInt(a.attachmentFbid,10))))),m=(yield d("MAWFowardMessageFromOpenThread").downloadMediaByUrl(a));m=m.file;var n=!1;if(l!=null){k=(yield k.tables.e2ee_chunk.index("hashedPlaintextHash").get(l.hashedPlaintextHash));if(k!=null){l=new Blob([k.blobData],{type:k.mimetype});m=new File([l],"IGDForwardFromSecureThread-"+a.attachmentFbid,{type:l.type});n=!0}}if(Boolean(j==null?void 0:j.useInstamadilloTransport))return c("forwardAttachmentToInstamadillo")(a,m,b,e,f,g,Boolean(j==null?void 0:j.useOpenEb));else if(n)return c("forwardAttachmentFromInstamadilloToOpen")(a,m,b,e,f,g);else return c("forwardAttachmentToOpen")(a,b,e,f,g)});return j.apply(this,arguments)}g["default"]=a}),98);
__d("forwardText",["I64","LSFactory","LSIntEnum","LSMailboxType","LSOptimisticSendMessageV2StoredProcedure","LSPendingTasksPluginType","LSShape","MessagePowerUp","asyncToGeneratorRuntime","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("requireDeferred")("LSDatabaseSingletonLazyWrapper").__setRef("forwardText"),k={calculate_denormalizations:!1,is_forwarded:!0,mark_read:!1,power_up_style:(h||(h=d("LSIntEnum"))).ofNumber(c("MessagePowerUp").NONE)};function a(a,b,c,d,e,f){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g,l){var m=(yield j.load());m=(yield m());m=(yield m.runInTransaction(function(j){return c("LSOptimisticSendMessageV2StoredProcedure")(c("LSFactory")(j),{extraSendMessageParams:d("LSShape").ofRecord(babelHelpers["extends"]({},k,{openEb:l==null?void 0:l.useOpenEb,plugin_type:(l==null?void 0:l.useInstamadilloTransport)?(h||(h=d("LSIntEnum"))).ofNumber(c("LSPendingTasksPluginType").IGD_INSTAMADILLO):void 0,source:g})),mailboxType:(h||(h=d("LSIntEnum"))).ofNumber(c("LSMailboxType").MESSENGER),senderId:f,text:a.text,threadKey:(i||(i=d("I64"))).of_string(b),threadType:h.ofNumber(e)})},"readwrite"));m=m[0];return m});return l.apply(this,arguments)}g["default"]=a}),98);
__d("forwardXMAFromInstamadillo",["asyncToGeneratorRuntime","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("getSendPostToInstamadilloRecipient").__setRef("forwardXMAFromInstamadillo"),i=c("requireDeferred")("getSendProfileToInstamadilloRecipient").__setRef("forwardXMAFromInstamadillo"),j=c("requireDeferred")("getSendReelToInstamadilloRecipient").__setRef("forwardXMAFromInstamadillo");function a(a,b,c,d){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,d){if(b==null)return;b=JSON.parse(b);switch(b.__typename){case"XMSGIgReceiverFetchXmaFeedFetchParams":var e=(yield h.load());e=e(b.media_igid,void 0,c,d,!0);yield e(a.id,a.isDisappearingModeSettingOn,a.isTTLCMediaShareEnabled);break;case"XMSGIgReceiverFetchXmaClipFetchParams":e=(yield j.load());e=e(b.media_igid,void 0,c,d,!0);yield e(a.id,a.isDisappearingModeSettingOn,a.isTTLCMediaShareEnabled);break;case"XMSGIgReceiverFetchXmaProfileFetchParams":e=(yield i.load());e=e(b.igid,void 0,c,d,!0);yield e(a.id,a.isDisappearingModeSettingOn,a.isTTLCGenericXMAShareEnabled);break}});return k.apply(this,arguments)}g["default"]=a}),98);
__d("forwardXMAFromOpenToInstamadillo",["FBLogger","I64","PolarisDirectAPI","PolarisLinkshimURI","URI","asyncToGeneratorRuntime","forwardXMAUtils","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("requireDeferred")("getSendPostToInstamadilloRecipient").__setRef("forwardXMAFromOpenToInstamadillo"),k=c("requireDeferred")("getSendProfileToInstamadilloRecipient").__setRef("forwardXMAFromOpenToInstamadillo"),l=function(a){var b=new(i||(i=c("URI")))(a);d("PolarisLinkshimURI").shouldSkipLinkShim(a)&&(b=new(i||(i=c("URI")))(b.getQueryData().u));return b.toString()};function a(a,b,c,d,e,f){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g,i){g=l(g);if(d("forwardXMAUtils").isFeedXma(b.defaultCtaType,g)&&e!=null){var m=(yield j.load());m=m((h||(h=d("I64"))).to_string(e),void 0,f,g,!0);yield m(a.id,a.isDisappearingModeSettingOn,i)}if(d("forwardXMAUtils").isProfileXma(b.defaultCtaType,g)){if(f==null)return;try{e=(yield d("PolarisDirectAPI").getUserProfile(f));if(e.status==="ok"){m=(m=e.data)==null?void 0:(b=m.user)==null?void 0:b.id;b=(b=e.data)==null?void 0:(e=b.user)==null?void 0:e.eimu_id;if(m!=null&&b!=null){e=(yield k.load());e=e(m,b,f,g,!0);yield e(a.id,a.isDisappearingModeSettingOn,i)}}}catch(a){c("FBLogger")("igd_web_on_msgr").mustfix("forwardXMAFromOpenToInstamadillo: failed to call getUserProfile Django API",a);return}}});return m.apply(this,arguments)}g["default"]=a}),98);
__d("forwardXMAOpenToOpen",["I64","LSFactory","LSIntEnum","LSOptimisticSendMessageForwardStoredProcedure","asyncToGeneratorRuntime","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("requireDeferred")("LSDatabaseSingletonLazyWrapper").__setRef("forwardXMAOpenToOpen");function a(a,b,c,d,e){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g){var k=(yield j.load());k=(yield k());k=(yield k.runInTransaction(function(j){return c("LSOptimisticSendMessageForwardStoredProcedure")(c("LSFactory")(j),{forwardedMsgId:a.messageId,forwardedMsgThreadKey:a.threadKey,forwardedMsgTimestampMs:a.timestampMs,senderId:f,source:g,threadKey:(h||(h=d("I64"))).of_string(b),threadType:(i||(i=d("LSIntEnum"))).ofNumber(e)})},"readwrite"));k=k[0];return k});return k.apply(this,arguments)}g["default"]=a}),98);
__d("forwardXMA",["I64","IGDInstamadilloUtils","asyncToGeneratorRuntime","forwardText","forwardXMAFromInstamadillo","forwardXMAFromOpenToInstamadillo","forwardXMAOpenToOpen","forwardXMAUtils","requireDeferred","sendToSentQPLLogger","useMWV2ForwardMessage"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("requireDeferred")("LSDatabaseSingletonLazyWrapper").__setRef("forwardXMA");function a(a,b,c,d,e,f,g,h){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g,j,k,l){var m,n=b.defaultCtaId;if(n==null)return;var o=(yield i.load());o=(yield o());n=(yield o.tables.attachment_ctas.get(n));m=(m=b.headerTitle)!=null?m:b.titleText;var p=n==null?void 0:n.actionUrl,q=n==null?void 0:n.targetId;if(p==null)return;o=(yield o.tables.threads.get((h||(h=d("I64"))).of_string(k.id)));o=d("forwardXMAUtils").shouldForwardXMAViaTTLC(o,a,b,n);n=k.isInstamadilloCutover||k.isDisappearingModeSettingOn||o;var r=d("IGDInstamadilloUtils").isInstamadilloMessage(a)?n?d("useMWV2ForwardMessage").ForwardType.SecureToSecure:d("useMWV2ForwardMessage").ForwardType.SecureToOpen:n?d("useMWV2ForwardMessage").ForwardType.OpenToSecure:d("useMWV2ForwardMessage").ForwardType.OpenToOpen;d("sendToSentQPLLogger").addSendToSentAnnotations(l,{bool:{use_instamadillo_transport:n,use_open_eb:o}});switch(r){case d("useMWV2ForwardMessage").ForwardType.OpenToSecure:return c("forwardXMAFromOpenToInstamadillo")(k,b,q,m,p,o);case d("useMWV2ForwardMessage").ForwardType.SecureToSecure:return c("forwardXMAFromInstamadillo")(k,a.xmaReceiverFetchParams,m,p);case d("useMWV2ForwardMessage").ForwardType.SecureToOpen:return c("forwardText")(babelHelpers["extends"]({},a,{text:p}),e,f,g,j);case d("useMWV2ForwardMessage").ForwardType.OpenToOpen:return c("forwardXMAOpenToOpen")(a,e,f,g,j)}});return j.apply(this,arguments)}g["default"]=a}),98);
__d("useIGDForwardMessage",["FBLogger","I64","IGDThreadTTLCUtils","LSBitFlag","LSIntEnum","MWPActor.react","MessagingAttachmentType","ReQL","asyncToGeneratorRuntime","forwardAttachment","forwardText","forwardXMA","react","sendToSentQPLLogger","useAsyncReStore","useGetForwardSource"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(h||d("react")).c;function l(a,b,c,d,e,f){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g,h){var k=e.candidate;e=e.type;var l=k.id;e=e==="thread"?2:1;l=(yield a.tables.threads.get((i||(i=d("I64"))).of_string(l)));var m=k.isInstamadilloCutover||k.isDisappearingModeSettingOn;if(d("LSBitFlag").has((j||(j=d("LSIntEnum"))).ofNumber(1),b.displayedContentTypes)){var n=d("IGDThreadTTLCUtils").isInstamadilloTTLCTextEnabled(l),o=m||n;d("sendToSentQPLLogger").addSendToSentAnnotations(h,{bool:{use_instamadillo_transport:o,use_open_eb:n}});return c("forwardText")(b,k.id,e,f,g,{useInstamadilloTransport:o,useOpenEb:n})}o=(yield d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.tables.attachments).getKeyRange(b.threadKey,b.messageId)));if(o!=null){n=(j||(j=d("LSIntEnum"))).unwrapIntEnum(o.attachmentType);if(n===c("MessagingAttachmentType").XMA)return c("forwardXMA")(b,o,k.id,e,f,g,k,h);else{a=!1;n===c("MessagingAttachmentType").IMAGE?a=d("IGDThreadTTLCUtils").isInstamadilloTTLCImageEnabled(l):n===c("MessagingAttachmentType").VIDEO?a=d("IGDThreadTTLCUtils").isInstamadilloTTLCVideoEnabled(l):n===c("MessagingAttachmentType").AUDIO&&(a=d("IGDThreadTTLCUtils").isInstamadilloTTLCAudioEnabled(l));b=m||a;d("sendToSentQPLLogger").addSendToSentAnnotations(h,{bool:{use_instamadillo_transport:b,use_open_eb:a}});return c("forwardAttachment")(o,k.id,e,f,g,{useInstamadilloTransport:b,useOpenEb:a})}}});return m.apply(this,arguments)}function a(a){var e=k(5),f=c("useAsyncReStore")(),g=c("useGetForwardSource")(),h=d("MWPActor.react").useActor(),i;e[0]!==f||e[1]!==a||e[2]!==h||e[3]!==g?(i=function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var e=d("sendToSentQPLLogger").markSendToSentStart();d("sendToSentQPLLogger").addSendToSentAnnotations(e,{string:{attachment_type:"forward",message_type:"forward"}});try{yield l(yield f,a,b,h,g,e),d("sendToSentQPLLogger").markSendToSentSuccess(e)}catch(a){b=a;d("sendToSentQPLLogger").markSendToSentFail(e,b);c("FBLogger")("igd_web_on_msgr").catching(b).mustfix("IGD failure forwarding a message")}});return function(a){return e.apply(this,arguments)}}(),e[0]=f,e[1]=a,e[2]=h,e[3]=g,e[4]=i):i=e[4];return i}g["default"]=a}),98);
__d("useIGDMessageForwardMenuItem.react",["fbt","I64","IGDContactSearchDialogType.flow","IGDInstamadilloUtils","IGDMessageContextMenuItem.react","IGDSDialogPlaceholder.react","IGDSDirectOutlineIcon.react","IGDThreadListNewMessageLoggingDataContext","JSResourceForInteraction","LSBitFlag","LSContactBitOffset","LSContactBlockedByViewerStatus","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MWLSThread","MWPActor.react","MWPMessageHasAttachment","MessagingAttachmentType","MessengerWebUXLogger","Promise","ReQL","ReQLSuspense","asyncToGeneratorRuntime","getInstamadilloLoggingExtraData","qex","react","useIGDForwardMessage","useIGDSLazyDialog","useIsReadOnlyFeatureLimited","useIsThreadBlocked","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m,n=m||d("react"),o=function(){return c("qex")._("121")===!0};function a(a,e){var g=(j||(j=c("useReStore")))(),m=d("MWPActor.react").useActor(),p=a.displayedContentTypes,q=a.messageId,r=a.senderId,s=a.threadKey,t=c("useIsReadOnlyFeatureLimited")(),u=c("useIsThreadBlocked")(),v=d("MWLSThread").useThreadExn(a.threadKey),w=v.threadType,x=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(g.tables.contacts).getKeyRange(r)},[g,r],f.id+":67"),y=x!=null&&d("LSContactBitOffset").has(66,x),z=d("LSThreadBitOffset").has(103,v),A=d("LSMessagingThreadTypeUtil").isIGDMessageRequest(v),B=(k||(k=d("I64"))).equal(a.displayedContentTypes,(l||(l=d("LSIntEnum"))).ofNumber(256));m=k.equal(r,m);m=!m&&d("LSMessagingThreadTypeUtil").isOneToOne(w)&&x!=null?!(k||(k=d("I64"))).equal(x.blockedByViewerStatus,(l||(l=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED)):!1;var C=c("MWPMessageHasAttachment")(a);x=d("ReQLSuspense").useFirst(function(){return C?d("ReQL").fromTableAscending(g.tables.attachments).getKeyRange(s,q):d("ReQL").empty()},[g,s,q,C],f.id+":104");var D=x!=null&&((k||(k=d("I64"))).equal(x.attachmentType,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").EPHEMERAL_IMAGE))||(k||(k=d("I64"))).equal(x.attachmentType,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").EPHEMERAL_VIDEO))),E=x!=null&&(k||(k=d("I64"))).equal(x.attachmentType,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").AUDIO));x=x!=null&&(k||(k=d("I64"))).equal(x.attachmentType,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA))?x.isSharable:!0;p=(k||(k=d("I64"))).equal(p,d("LSBitFlag").empty)&&!D;var F=c("useIGDForwardMessage")(a),G=c("MessengerWebUXLogger").useInteractionLogger(),H=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),I=c("useIGDSLazyDialog")(c("JSResourceForInteraction")("IGDAWOminipickerDialog.react").__setRef("useIGDMessageForwardMenuItem.react"),function(a){return n.jsx(c("IGDSDialogPlaceholder.react"),{fixedHeight:!0,onClose:a,size:"large"})}),J=I[0];I=d("IGDInstamadilloUtils").isInstamadilloMessage(a)&&a.ephemeralDurationInSec!=null&&(k||(k=d("I64"))).gt(a.ephemeralDurationInSec,(k||(k=d("I64"))).zero);u=!u&&!y&&!A&&!t&&!a.isUnsent&&!p&&(d("LSMessagingThreadTypeUtil").isArmadilloSecure(w)?o():!0)&&z&&x&&!m&&!B&&!D&&!E&&!I;if(!u)return null;var K=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=Array.from(a.values()).map(function(a){return F(a)});yield (i||(i=b("Promise"))).allSettled(a)});return function(b){return a.apply(this,arguments)}}();y=function(){G==null?void 0:G({eventName:"message_forward",extraData:c("getInstamadilloLoggingExtraData")(v),flowInstanceId:H}),J({includeGroup:!0,loggingEventName:"forward_thread_attempt",maxRecipients:5,onSubmit:K,searchType:d("IGDContactSearchDialogType.flow").IGDContactSearchDialogType.FORWARD_MESSAGE,submitButtonLabel:h._("__JHASH__Mg5C78xztSX__JHASH__").toString(),titleLabel:h._("__JHASH__y0z31BBozLu__JHASH__").toString()},e)};A=h._("__JHASH__YherSGbeO3h__JHASH__");return n.jsx(c("IGDMessageContextMenuItem.react"),{icon:n.jsx(c("IGDSDirectOutlineIcon.react"),{alt:A,size:18}),label:A,onClick:y,testid:void 0})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("useIGDMessageInspectMenuItem.react",["fbt","IGDMessageContextMenuItem.react","IGDSSearchPanoOutlineIcon.react","JSResourceForInteraction","gkx","react","useIGDSLazyDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;b.useCallback;var k=b.c;function a(a){var b=k(8),d;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=h._("__JHASH__mew0ZCK-3iQ__JHASH__"),b[0]=d):d=b[0];d=d;var e;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(e=c("JSResourceForInteraction")("IGDMessageInspectMessageDialog.react").__setRef("useIGDMessageInspectMenuItem.react"),b[1]=e):e=b[1];e=c("useIGDSLazyDialog")(e);var f=e[0];b[2]!==f||b[3]!==a?(e=function(){f({message:a})},b[2]=f,b[3]=a,b[4]=e):e=b[4];e=e;var g=c("gkx")("24015");if(!g)return null;b[5]===Symbol["for"]("react.memo_cache_sentinel")?(g=j.jsx(c("IGDSSearchPanoOutlineIcon.react"),{alt:d,size:18}),b[5]=g):g=b[5];b[6]!==e?(g=j.jsx(c("IGDMessageContextMenuItem.react"),{delimiter:!0,icon:g,label:d,onClick:e,testid:void 0}),b[6]=e,b[7]=g):g=b[7];return g}g["default"]=a}),226);
__d("useIGDMessageNegativeFeedbackMenuItem.react",["fbt","IGDMessageContextMenuItem.react","IGDSDialogPlaceholder.react","IGDSThumbDownPanoOutline24Icon.react","JSResourceForInteraction","emptyFunction","react","useGenAIFeedbackSubmissionStatus","useIGDIsGenAiReelsPlugin","useIGDSLazyDialog","useIGDSToaster","useMWV2SubmitFeedbackAction"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;b.useCallback;var k=b.c;function a(a){var b=k(12),d=c("useIGDSToaster")(),e;b[0]!==d?(e=function(){d.add({message:h._("__JHASH__szyqZwWEpgN__JHASH__"),target:"bottom-left"})},b[0]=d,b[1]=e):e=b[1];e=e;var f=c("useMWV2SubmitFeedbackAction")(a.botResponseId,e),g;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(e=c("JSResourceForInteraction")("MWV2SubmitNegativeFeedbackDialog.react").__setRef("useIGDMessageNegativeFeedbackMenuItem.react"),g=function(a){return j.jsx(c("IGDSDialogPlaceholder.react"),{fixedHeight:!0,onClose:a,size:"large"})},b[2]=e,b[3]=g):(e=b[2],g=b[3]);e=c("useIGDSLazyDialog")(e,g);var i=e[0];b[4]!==i||b[5]!==a||b[6]!==f?(g=function(){i({message:a,onSubmit:f},c("emptyFunction"))},b[4]=i,b[5]=a,b[6]=f,b[7]=g):g=b[7];e=g;g=c("useGenAIFeedbackSubmissionStatus")(a.botResponseId);var l=c("useIGDIsGenAiReelsPlugin")(a);if(g==null||l)return null;b[8]===Symbol["for"]("react.memo_cache_sentinel")?(g=h._("__JHASH__7ndOyL_QgDy__JHASH__"),b[8]=g):g=b[8];l=g;b[9]===Symbol["for"]("react.memo_cache_sentinel")?(g=j.jsx(c("IGDSThumbDownPanoOutline24Icon.react"),{alt:l,size:18}),b[9]=g):g=b[9];b[10]!==e?(g=j.jsx(c("IGDMessageContextMenuItem.react"),{icon:g,label:l,onClick:e}),b[10]=e,b[11]=g):g=b[11];return g}g["default"]=a}),226);
__d("useIGDMessagePositiveFeedbackMenuItem.react",["fbt","BotFeedbackKind","IGDMessageContextMenuItem.react","IGDSThumbUpPanoOutline24Icon.react","IGDThreadListNewMessageLoggingDataContext","MessengerWebUXLogger","react","useGenAIFeedbackSubmissionStatus","useIGDIsGenAiReelsPlugin","useIGDSToaster","useMWV2SubmitFeedbackAction"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;b.useCallback;b.useMemo;var k=b.c;function a(a,b){var e,f=k(16),g=c("useIGDSToaster")(),i;f[0]!==g?(i=function(){g.add({message:h._("__JHASH__szyqZwWEpgN__JHASH__"),target:"bottom-left"})},f[0]=g,f[1]=i):i=f[1];i=i;var l=c("useMWV2SubmitFeedbackAction")(a.botResponseId,i);i=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext();e=(e=a.botResponseId)!=null?e:"";var m;f[2]!==e?(m={botResponseId:e},f[2]=e,f[3]=m):m=f[3];f[4]!==m||f[5]!==i?(e={extraData:m,flowInstanceId:i},f[4]=m,f[5]=i,f[6]=e):e=f[6];m=e;var n=m,o=c("MessengerWebUXLogger").useInteractionLogger();f[7]!==l||f[8]!==o||f[9]!==n||f[10]!==b?(i=function(){l(c("BotFeedbackKind").BOT_FEEDBACK_POSITIVE),o==null?void 0:o(babelHelpers["extends"]({eventName:"submit_positive_feedback"},n)),b()},f[7]=l,f[8]=o,f[9]=n,f[10]=b,f[11]=i):i=f[11];e=i;m=c("useGenAIFeedbackSubmissionStatus")(a.botResponseId);i=c("useIGDIsGenAiReelsPlugin")(a);if(m==null||i)return null;f[12]===Symbol["for"]("react.memo_cache_sentinel")?(a=h._("__JHASH__FtoE8geHXMB__JHASH__"),f[12]=a):a=f[12];m=a;f[13]===Symbol["for"]("react.memo_cache_sentinel")?(i=j.jsx(c("IGDSThumbUpPanoOutline24Icon.react"),{alt:m,size:18}),f[13]=i):i=f[13];f[14]!==e?(a=j.jsx(c("IGDMessageContextMenuItem.react"),{delimiter:!0,icon:i,label:m,onClick:e}),f[14]=e,f[15]=a):a=f[15];return a}g["default"]=a}),226);
__d("useIGDMessageReaction.react",["fbt","EmojiFormat.bs","IGDThreadListNewMessageLoggingDataContext","Int64Hooks","MWLSThread","MWV2MessageReactionHooks","MessengerWebUXLogger","UnicodeUtils","asyncToGeneratorRuntime","emptyFunction","getInstamadilloLoggingExtraData","promiseDone","react","useAsyncReStore","useIGDGlobalReactMessage"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;e=i||d("react");e.useCallback;var k=e.c;function a(a,e){var f=k(17),g=d("MWV2MessageReactionHooks").MWV2MessageReactionHooks.useSelectedReaction(a),i=c("useIGDGlobalReactMessage")(a,"reaction_tray"),l;f[0]!==g||f[1]!==i||f[2]!==e?(l=function(a){var b=d("EmojiFormat.bs").codeArrayToUnicode(a);if(g!=null){var f=(j||(j=d("UnicodeUtils"))).getCodePoints(g);b===g&&(b=void 0);f[0]===10084&&a[0]===10084&&(b=void 0)}c("promiseDone")(i(b,"reaction"));e()},f[0]=g,f[1]=i,f[2]=e,f[3]=l):l=f[3];l=l;var m;f[4]!==l?(m={closeAfterSelect:!0,onClose:c("emptyFunction"),onSelect:l,showPopoverArrow:!1},f[4]=l,f[5]=m):m=f[5];l=m;f[6]===Symbol["for"]("react.memo_cache_sentinel")?(m=h._("__JHASH__lHWykrNu5cj__JHASH__"),f[6]=m):m=f[6];m=m;var n=c("useAsyncReStore")(),o=c("MessengerWebUXLogger").useInteractionLogger(),p=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),q,r;f[7]!==n||f[8]!==a.threadKey||f[9]!==a.messageId||f[10]!==o||f[11]!==p?(q=function(e){c("promiseDone")(n.then(function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){b=(yield d("MWLSThread").getThreadAsync(b,a.threadKey));b&&(o==null?void 0:o({eventName:"reaction_open_emoji_picker",extraData:babelHelpers["extends"]({},c("getInstamadilloLoggingExtraData")(b),{message_id:a.messageId}),flowInstanceId:p}))});return function(a){return e.apply(this,arguments)}}())),e()},r=[n,p,o,a.messageId,a.threadKey],f[7]=n,f[8]=a.threadKey,f[9]=a.messageId,f[10]=o,f[11]=p,f[12]=q,f[13]=r):(q=f[12],r=f[13]);q=d("Int64Hooks").useCallbackInt64(q,r);f[14]!==q||f[15]!==l?(r=[m,q,l],f[14]=q,f[15]=l,f[16]=r):r=f[16];return r}g["default"]=a}),226);
__d("useIGDMessageReactionMenuItem.react",["I64","IGDMessageContextMenuItem.react","IGDSBox.react","IGDSFace2OutlineIcon.react","IGDSLazyPopoverTrigger.react","LSBitFlag","LSContactBitOffset","LSMessagingThreadTypeUtil","LSThreadBitOffset","MWLSThread","ReQL","ReQLSuspense","gkx","react","requireDeferred","useGenAIFeedbackSubmissionStatus","useIGDMessageReaction.react","useIsGenAiFeedbackEnabled","useIsReadOnlyFeatureLimited","useIsThreadBlocked","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||(j=d("react"))).c,l=j,m=c("requireDeferred")("IGDComposerEmojiPicker.react").__setRef("useIGDMessageReactionMenuItem.react");function a(a,b){var e=k(15),g=(h||(h=c("useReStore")))(),j=a.displayedContentTypes,n=a.senderId,o=c("useIsThreadBlocked")(),p=d("MWLSThread").useThreadExn(a.threadKey),q=d("LSMessagingThreadTypeUtil").isIGDMessageRequest(p),r=c("useIsReadOnlyFeatureLimited")(),s;e[0]!==g.tables.contacts||e[1]!==n?(s=function(){return d("ReQL").fromTableAscending(g.tables.contacts).getKeyRange(n)},e[0]=g.tables.contacts,e[1]=n,e[2]=s):s=e[2];var t;e[3]!==g||e[4]!==n?(t=[g,n],e[3]=g,e[4]=n,e[5]=t):t=e[5];s=d("ReQLSuspense").useFirst(s,t,f.id+":55");t=d("LSThreadBitOffset").has(18,p);var u=d("LSThreadBitOffset").has(139,p);p=d("LSThreadBitOffset").has(169,p);j=(i||(i=d("I64"))).equal(j,d("LSBitFlag").empty);s=s!=null&&d("LSContactBitOffset").has(66,s);var v=c("useIsGenAiFeedbackEnabled")(a.botResponseId,c("gkx")("664")===!0),w=c("useGenAIFeedbackSubmissionStatus")(a.botResponseId);o=!o&&!s&&!q&&!r&&!a.isUnsent&&!j&&(u?p:t)&&v&&w==null;s=c("useIGDMessageReaction.react")(a,b);var x=s[0],y=s[1];q=s[2];e[6]!==a.threadKey||e[7]!==q?(r=babelHelpers["extends"]({threadKey:a.threadKey},q),e[6]=a.threadKey,e[7]=q,e[8]=r):r=e[8];j=r;if(!o)return null;e[9]!==x||e[10]!==y?(u=function(a,b){return l.jsx(c("IGDSBox.react"),{containerRef:a,children:l.jsx(c("IGDMessageContextMenuItem.react"),{icon:l.jsx(c("IGDSFace2OutlineIcon.react"),{alt:x,size:18}),label:x,onClick:function(){return y(b)}})})},e[9]=x,e[10]=y,e[11]=u):u=e[11];e[12]!==j||e[13]!==u?(p=l.jsx(c("IGDSLazyPopoverTrigger.react"),{align:"start",popoverProps:j,popoverResource:m,popoverType:"dialog",position:"above",children:u}),e[12]=j,e[13]=u,e[14]=p):p=e[14];return p}g["default"]=a}),98);
__d("useIGDMessageReplyMenuItem.react",["I64","IGDInstamadilloUtils","IGDMessageContextMenuItem.react","IGDSReplyPanoOutline24Icon.react","LSBitFlag","LSContactBitOffset","LSMessagingThreadTypeUtil","LSThreadBitOffset","MWLSThread","ReQL","ReQLSuspense","gkx","react","useGenAIFeedbackSubmissionStatus","useIGDMessageReply.react","useIsGenAiFeedbackEnabled","useIsReadOnlyFeatureLimited","useIsThreadBlocked","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||(j=d("react"))).c,l=j;function a(a,b){var e=k(12),g=(h||(h=c("useReStore")))(),j=a.displayedContentTypes,m=a.senderId,n=c("useIsThreadBlocked")(),o=d("MWLSThread").useThreadExn(a.threadKey),p=d("LSMessagingThreadTypeUtil").isIGDMessageRequest(o),q=c("useIsReadOnlyFeatureLimited")(),r;e[0]!==g.tables.contacts||e[1]!==m?(r=function(){return d("ReQL").fromTableAscending(g.tables.contacts).getKeyRange(m)},e[0]=g.tables.contacts,e[1]=m,e[2]=r):r=e[2];var s;e[3]!==g||e[4]!==m?(s=[g,m],e[3]=g,e[4]=m,e[5]=s):s=e[5];r=d("ReQLSuspense").useFirst(r,s,f.id+":52");s=d("LSThreadBitOffset").has(42,o);b=c("useIGDMessageReply.react")(a,o,b);var t=b[0];b=b[1];var u=c("useIsGenAiFeedbackEnabled")(a.botResponseId,c("gkx")("664")===!0),v=c("useGenAIFeedbackSubmissionStatus")(a.botResponseId);if(!s||!u)return null;s=(i||(i=d("I64"))).equal(j,d("LSBitFlag").empty);j=r!=null&&d("LSContactBitOffset").has(66,r);r=d("IGDInstamadilloUtils").isIGDDisappearingModeEnabled(o);o=!n&&!j&&!p&&!q&&!a.isUnsent&&!s&&u&&v==null&&d("IGDInstamadilloUtils").shouldRenderMessageReply(a,r);if(!o)return null;e[6]!==b?(n=l.jsx(c("IGDSReplyPanoOutline24Icon.react"),{alt:b,size:18}),e[6]=b,e[7]=n):n=e[7];e[8]!==n||e[9]!==b||e[10]!==t?(j=l.jsx(c("IGDMessageContextMenuItem.react"),{icon:n,label:b,onClick:t}),e[8]=n,e[9]=b,e[10]=t,e[11]=j):j=e[11];return j}g["default"]=a}),98);
__d("IGDSUndoCirclePanoOutline24Icon.react",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:[i.jsx("path",{d:"M12 .5C5.659.5.5 5.66.5 12S5.659 23.5 12 23.5c6.34 0 11.5-5.16 11.5-11.5S18.34.5 12 .5Zm0 21c-5.238 0-9.5-4.262-9.5-9.5S6.762 2.5 12 2.5s9.5 4.262 9.5 9.5-4.262 9.5-9.5 9.5Z"}),i.jsx("path",{d:"M14.5 10H9.414l1.293-1.293a1 1 0 1 0-1.414-1.414l-3 2.999a1 1 0 0 0 0 1.414l3 3.001a.997.997 0 0 0 1.414 0 1 1 0 0 0 0-1.414L9.415 12H14.5c.827 0 1.5.674 1.5 1.501 0 .395-.157.794-.431 1.096-.227.249-.508.403-.735.403L14 14.999a1 1 0 0 0-.001 2l.833.001h.002c.796 0 1.604-.386 2.215-1.059a3.625 3.625 0 0 0 .951-2.44C18 11.571 16.43 10 14.5 10Z"})]}))}a.displayName=a.name+" [from "+f.id+"]";b=i.memo(a);g["default"]=b}),98);
__d("useIGDMessageUnsendMenuItem.react",["fbt","I64","IGDMessageContextMenuItem.react","IGDSUndoCirclePanoOutline24Icon.react","IGDThreadListNewMessageLoggingDataContext","Int64Hooks","JSResourceForInteraction","MWPActor.react","MWPThreadCapabilitiesContext","MessengerWebUXLogger","PolarisDirectLogger","getInstamadilloLoggingExtraData","react","useIGDSLazyDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=(i||(i=d("react"))).c,l=i;function a(a,b){var e=k(13),f=d("MWPActor.react").useActor(),g=a.senderId;g=(j||(j=d("I64"))).equal(g,f);var i=c("MessengerWebUXLogger").useInteractionLogger(),m=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext();e[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=c("JSResourceForInteraction")("IGDMessageUnsendDialog.react").__setRef("useIGDMessageUnsendMenuItem.react"),e[0]=f):f=e[0];f=c("useIGDSLazyDialog")(f);var n=f[0],o;e[1]!==i||e[2]!==b||e[3]!==m||e[4]!==n||e[5]!==a?(f=function(){i==null?void 0:i({eventName:"message_unsend",extraData:c("getInstamadilloLoggingExtraData")(b),flowInstanceId:m}),n({message:a}),d("PolarisDirectLogger").DirectLogger.logDirectEvent("DirectThread","direct_delete_message_attempt")},o=[m,i,a,n,b],e[1]=i,e[2]=b,e[3]=m,e[4]=n,e[5]=a,e[6]=f,e[7]=o):(f=e[6],o=e[7]);f=d("Int64Hooks").useCallbackInt64(f,o);o=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext();o=o.messageUnsendEnabled;if(!o||!g)return null;e[8]===Symbol["for"]("react.memo_cache_sentinel")?(o=h._("__JHASH__H8A15z0PXSW__JHASH__"),e[8]=o):o=e[8];g=o;e[9]===Symbol["for"]("react.memo_cache_sentinel")?(o=l.jsx(c("IGDSUndoCirclePanoOutline24Icon.react"),{alt:g,color:"ig-error-or-destructive",size:18}),e[9]=o):o=e[9];var p;e[10]===Symbol["for"]("react.memo_cache_sentinel")?(p={color:"errorOrDestructive"},e[10]=p):p=e[10];e[11]!==f?(o=l.jsx(c("IGDMessageContextMenuItem.react"),{delimiter:!0,icon:o,label:g,labelProps:p,onClick:f}),e[11]=f,e[12]=o):o=e[12];return o}g["default"]=a}),226);
__d("IGDMessageContextMenu.react",["IGDBroadcastChannelLoggingShapes","IGDSBox.react","IGDSPopover.react","IGDThreadListNewMessageLoggingDataContext","MWCMThreadTypes.react","MessengerWebUXLogger","WebUXLoggingSurfaceContextProvider","isMWEditedMessage","react","useIGDBroadcastChannelImpressionLoggerWithCheck","useIGDEditMessageMenuItem.react","useIGDMessageCopyMenuItem.react","useIGDMessageForwardMenuItem.react","useIGDMessageInspectMenuItem.react","useIGDMessageNegativeFeedbackMenuItem.react","useIGDMessagePositiveFeedbackMenuItem.react","useIGDMessageReactionMenuItem.react","useIGDMessageReplyMenuItem.react","useIGDMessageReportMenuItem.react","useIGDMessageTimestampMenuItem.react","useIGDMessageUnsendMenuItem.react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useMemo;var j=b.c,k={popover:{borderTopStartRadius:"x1ykpwxx",borderTopEndRadius:"x118zf8b",borderBottomEndRadius:"xnwxkdh",borderBottomStartRadius:"xfocsrx",marginBottom:"xu06os2",$$css:!0}};function a(a){var b=j(25),e=a.message,f=a.onClose;a=a.thread;var g=d("MWCMThreadTypes.react").isIGBroadcastChannelThread(a.threadSubtype),h=c("useIGDBroadcastChannelImpressionLoggerWithCheck")(e.threadKey,a.threadSubtype,d("IGDBroadcastChannelLoggingShapes").MESSAGE_OPTIONS_RENDERED_SHAPE),l=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),m;b[0]!==l?(m={eventName:"message_contextual_menu_rendered",flowInstanceId:l},b[0]=l,b[1]=m):m=b[1];l=c("MessengerWebUXLogger").useImpressionLoggerRef(m);m=c("useIGDMessageReplyMenuItem.react")(e,f);var n=c("useIGDMessageReactionMenuItem.react")(e,f),o=c("useIGDEditMessageMenuItem.react")(e,f,a),p=c("useIGDMessageCopyMenuItem.react")(e,f,a),q=c("useIGDMessageForwardMenuItem.react")(e,f);f=c("useIGDMessagePositiveFeedbackMenuItem.react")(e,f);var r=c("useIGDMessageNegativeFeedbackMenuItem.react")(e),s;b[2]!==n||b[3]!==m||b[4]!==o||b[5]!==q||b[6]!==p||b[7]!==f||b[8]!==r?(s=[n,m,o,q,p,f,r],b[2]=n,b[3]=m,b[4]=o,b[5]=q,b[6]=p,b[7]=f,b[8]=r,b[9]=s):s=b[9];n=s;b[10]!==n?(m=n.filter(Boolean),b[10]=n,b[11]=m):m=b[11];o=m;q=o;b[12]!==e?(p=c("isMWEditedMessage")(e),b[12]=e,b[13]=p):p=b[13];f=p;r=c("useIGDMessageTimestampMenuItem.react")(e.timestampMs,f,q.length>0);s=c("useIGDMessageUnsendMenuItem.react")(e,a);n=c("useIGDMessageReportMenuItem.react")(e,a.threadType);m=c("useIGDMessageInspectMenuItem.react")(e);b[14]!==q?(o=q.map(function(a,b){return i.jsx(c("IGDSBox.react"),{children:a},"igd-message-menu-item-"+b)}),b[14]=q,b[15]=o):o=b[15];b[16]!==r||b[17]!==o||b[18]!==s||b[19]!==n||b[20]!==m?(p=i.jsx(d("WebUXLoggingSurfaceContextProvider").WebUXSurfaceLoggingContext.Provider,{value:"thread_view_message_options",children:i.jsxs(c("IGDSBox.react"),{minWidth:180,padding:2,children:[r,o,s,n,m]})}),b[16]=r,b[17]=o,b[18]=s,b[19]=n,b[20]=m,b[21]=p):p=b[21];f=p;a=g?h:l;b[22]!==f||b[23]!==a?(e=i.jsx(c("IGDSPopover.react"),{popoverContent:f,popoverXStyle:k.popover,ref:a}),b[22]=f,b[23]=a,b[24]=e):e=b[24];return e}g["default"]=a}),98);