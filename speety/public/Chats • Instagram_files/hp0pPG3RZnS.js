;/*FB_PKG_DELIM*/

__d("forwardXMAUtils",["FBLogger","IGDInstamadilloUtils","IGDThreadTTLCUtils","PolarisLinkshimURI","URI"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){var b=new(h||(h=c("URI")))(a);d("PolarisLinkshimURI").shouldSkipLinkShim(a)&&(b=new(h||(h=c("URI")))(b.getQueryData().u));return b.toString()}function j(a,b){return a==="igd_web_post_share"&&b.includes("instagram.com/p/")}function k(a,b){return a==="xma_open_native"&&b.includes("https://www.instagram.com")}function a(a,b,e,f){if(a==null)return!1;var g=d("IGDInstamadilloUtils").isInstamadilloMessage(b);if(g&&b.xmaReceiverFetchParams!=null){var h;try{h=JSON.parse(b.xmaReceiverFetchParams)}catch(a){c("FBLogger")("igd_web_on_msgr").mustfix("forwardXMAUtils: failed to parse message xmaReceiverFetchParams with error %s.",a);return!1}return d("IGDThreadTTLCUtils").isXmaReceiverFetchTTLCEnabled(h,a)}if(f==null||(f==null?void 0:f.actionUrl)==null)return!1;g=i(f.actionUrl);if(j(e==null?void 0:e.defaultCtaType,g))return d("IGDThreadTTLCUtils").isInstamadilloTTLCMediaShareEnabled(a);return k(e==null?void 0:e.defaultCtaType,g)?d("IGDThreadTTLCUtils").isInstamadilloTTLCGenericXmaEnabled(a):!1}g.linkshimDecode=i;g.isFeedXma=j;g.isProfileXma=k;g.shouldForwardXMAViaTTLC=a}),98);
__d("getInstamadilloLoggingExtraData",["I64","IGDInstamadilloUtils","IGDThreadTTLCUtils"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=d("IGDInstamadilloUtils").isInstamadilloCutover(a),c=d("IGDInstamadilloUtils").isInstamadilloTransportEnabled(a),e=d("IGDInstamadilloUtils").isIGDDisappearingModeEnabled(a);e=babelHelpers["extends"]({},d("IGDThreadTTLCUtils").getTTLCLoggingExtraData(a),{is_dm:String(e),is_instamadillo:String(c),is_instamadillo_tlc:String(b)});a!=null&&(e.thread_key=(h||(h=d("I64"))).to_string(a.threadKey),(a==null?void 0:a.consistentThreadFbid)!=null&&(e.consistent_thread_fbid=(h||(h=d("I64"))).to_string(a.consistentThreadFbid)));return e}g["default"]=a}),98);